---
import type { BlogPost } from '@/types';
import Link from '@/components/Link.astro';
import { postUrl } from '@/lib/posts';
import PostListItemDate from '@/components/PostListItemDate.astro';

interface Props {
  posts: BlogPost[];
  showPublished?: boolean;
}
const { posts, showPublished = true } = Astro.props;
// pass title to the slot
// https://stackoverflow.com/questions/74976824/can-i-pass-props-from-a-child-component-to-parent-in-astro
---

<ul>
  {
    posts.map(({ slug, data: { title, added } }) => (
      <li>
        <Link href={postUrl(slug)}>
          {title}{' '}
          {showPublished && (
            <PostListItemDate>{added.toLocaleDateString()}</PostListItemDate>
          )}
        </Link>
      </li>
    ))
  }
</ul>
